#pragma once

// ES
#include "ESUtils.h"

// Qt
#include <QObject.h>
#include <qstandarditemmodel.h>
#include <qmutex.h>

/********************************************************************************/
/********************************************************************************/
/********************************************************************************/


/********************************************************************************/
/********************************************************************************/
/********************************************************************************/

class ESDebugQmlBinder : public QObject
{
	Q_OBJECT;
public:
	/******************************** ATTRIBUTES **********************************/

	ES_QML_READ_PROPERTY(ConsoleLines, QStandardItemModel*)

	/********************************* METHODS ***********************************/

	ESDebugQmlBinder();
	virtual ~ESDebugQmlBinder() override;

protected:
	/********************************* METHODS ***********************************/

	void onNewLoggerMsg(QString pMsg, int pLevel);

	/******************************** ATTRIBUTES **********************************/

	QMutex mMutex;
};
